\subsubsection{Klods identifikation}
Vision systemet er udviklet igennem trial and error, ved at evaluere systemet på det store testsæt af billeder. \\

Billede behandlingen starter med at et billede fra robotten skæres til, så kun bordpladen er på billedet.
Herefter skjules robotten på billedet ved at tegne en sort firkant over robotten på billedet.
Det gøres for at undgå at dele af robotten identificeres som en klods.\\
Som en ekstra del af preprocesseringen fremhæves kanterne på to måder.
Først bruges et adaptive bilateral filter til at udglattte billedet.
Det gøres for at fjerne højfrekvente dele af billedet som senere fejlagtigt kunne detekteres som en kant.
Nu bruges en Laplacian edge detektor til at finde kanter i billedet og disse tilføjes til billedet igen.
Det gør at kanterne i billedet er ekstra fremhævet, hvilket viste sig at give et bedre resultat.\\

Nu bruges en canny edge detektor til at finde kanterne i billedet.
Kanterne er ikke sammenhængende, men blot nogle pixels der er blevet markeret som værende en del af en kant.
For at samle disse pixels til en sammenhængende kant bruges forskellige morfologiske transformationer. \\
Først bruges dilation til at udvide alle kant pixels.
Dette giver meget tykke kanter, der stadig har nogle huller.
Closing, der består af dilation efterfulgt af erosion, bruges til at lukke disse huller.
Herefter bruges erosion til at gøre de meget tykke kanter en del tyndere. \\

For at finde klodserne ud fra billedet, bruges findContours metoden.
Den giver en liste af alle konturer og deres hierarki som en træstruktur.
For at finde klodserne ud fra konturerne er der lavet en rekursiv metode der går træet igennem og finder konturer.
Når en konturer er identificeret som en klods, søges der ikke dybere i træet.
Det skyldes at de tykke kanter i billedet kan blive til to konturer, én på ydersiden og én på indersiden.
Uden at kigge på hierakiet ville en klods blive identificeret for begge konturer.

